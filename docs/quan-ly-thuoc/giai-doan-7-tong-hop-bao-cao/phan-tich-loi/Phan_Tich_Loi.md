# PHÃ‚N TÃCH Lá»–I CHá»¨C NÄ‚NG QUáº¢N LÃ THUá»C

## ğŸ“‹ THÃ”NG TIN CHUNG

- **Dá»± Ã¡n**: Há»‡ thá»‘ng web bÃ¡n vÃ  quáº£n lÃ½ hiá»‡u thuá»‘c
- **Module**: Quáº£n lÃ½ thuá»‘c
- **Thá»i gian thá»±c hiá»‡n**: 17/05/2025 - 22/05/2025
- **NgÆ°á»i thá»±c hiá»‡n**: NhÃ³m Kiá»ƒm thá»­ Hiá»‡u thuá»‘c

## ğŸ“Š Báº¢NG Tá»”NG Há»¢P Lá»–I

| ID | MÃ´ táº£ lá»—i | Má»©c Ä‘á»™ nghiÃªm trá»ng | Loáº¡i lá»—i | Giai Ä‘oáº¡n phÃ¡t hiá»‡n | Tráº¡ng thÃ¡i | Ghi chÃº |
|----|-----------|---------------------|----------|---------------------|------------|---------|
| BUG_001 | Lá»—i tráº¡ng thÃ¡i khi danh sÃ¡ch trá»‘ng | Tháº¥p | Chá»©c nÄƒng | Giai Ä‘oáº¡n 2 | ÄÃ£ sá»­a | Tráº£ vá» tráº¡ng thÃ¡i 200 thay vÃ¬ 409 khi danh sÃ¡ch trá»‘ng |
| BUG_002 | Lá»—i StackOverflowError do quan há»‡ hai chiá»u | Cao | Chá»©c nÄƒng | Giai Ä‘oáº¡n 3 | ÄÃ£ sá»­a | Sá»­a báº±ng cÃ¡ch thÃªm @JsonIgnore |
| BUG_003 | Lá»—i thÃ´ng bÃ¡o khÃ´ng khá»›p | Tháº¥p | Giao diá»‡n | Giai Ä‘oáº¡n 4 | ÄÃ£ sá»­a | Thá»‘ng nháº¥t thÃ´ng bÃ¡o lá»—i |
| BUG_004 | Lá»—i phÆ°Æ¡ng thá»©c HTTP khÃ´ng Ä‘Ãºng | Trung bÃ¬nh | Chá»©c nÄƒng | Giai Ä‘oáº¡n 3 | ÄÃ£ sá»­a | Sá»­a phÆ°Æ¡ng thá»©c HTTP cho multipart/form-data |

## ğŸ“ˆ PHÃ‚N LOáº I Lá»–I

### PhÃ¢n loáº¡i theo má»©c Ä‘á»™ nghiÃªm trá»ng

| Má»©c Ä‘á»™ nghiÃªm trá»ng | Sá»‘ lÆ°á»£ng | Tá»· lá»‡ |
|---------------------|----------|-------|
| NghiÃªm trá»ng (Critical) | 0 | 0% |
| Cao (High) | 1 | 25% |
| Trung bÃ¬nh (Medium) | 1 | 25% |
| Tháº¥p (Low) | 2 | 50% |
| **Tá»•ng cá»™ng** | **4** | **100%** |

### PhÃ¢n loáº¡i theo loáº¡i lá»—i

| Loáº¡i lá»—i | Sá»‘ lÆ°á»£ng | Tá»· lá»‡ |
|----------|----------|-------|
| Lá»—i chá»©c nÄƒng (Functional) | 3 | 75% |
| Lá»—i giao diá»‡n (UI) | 1 | 25% |
| Lá»—i hiá»‡u nÄƒng (Performance) | 0 | 0% |
| Lá»—i báº£o máº­t (Security) | 0 | 0% |
| Lá»—i tÆ°Æ¡ng thÃ­ch (Compatibility) | 0 | 0% |
| Lá»—i khÃ¡c (Other) | 0 | 0% |
| **Tá»•ng cá»™ng** | **4** | **100%** |

### PhÃ¢n loáº¡i theo giai Ä‘oáº¡n phÃ¡t hiá»‡n

| Giai Ä‘oáº¡n phÃ¡t hiá»‡n | Sá»‘ lÆ°á»£ng | Tá»· lá»‡ |
|---------------------|----------|-------|
| Giai Ä‘oáº¡n 2: Kiá»ƒm thá»­ Ä‘Æ¡n vá»‹ | 1 | 25% |
| Giai Ä‘oáº¡n 3: Kiá»ƒm thá»­ tÃ­ch há»£p | 2 | 50% |
| Giai Ä‘oáº¡n 4: Kiá»ƒm thá»­ chá»©c nÄƒng | 1 | 25% |
| Giai Ä‘oáº¡n 5: Kiá»ƒm thá»­ giao diá»‡n | 0 | 0% |
| Giai Ä‘oáº¡n 6: Kiá»ƒm thá»­ há»‡ thá»‘ng | 0 | 0% |
| **Tá»•ng cá»™ng** | **4** | **100%** |

### PhÃ¢n loáº¡i theo tráº¡ng thÃ¡i

| Tráº¡ng thÃ¡i | Sá»‘ lÆ°á»£ng | Tá»· lá»‡ |
|------------|----------|-------|
| ÄÃ£ sá»­a | 4 | 100% |
| Äang sá»­a | 0 | 0% |
| ChÆ°a sá»­a | 0 | 0% |
| KhÃ´ng sá»­a | 0 | 0% |
| **Tá»•ng cá»™ng** | **4** | **100%** |

## ğŸ“ CHI TIáº¾T Lá»–I

### BUG_001: Lá»—i tráº¡ng thÃ¡i khi danh sÃ¡ch trá»‘ng

**MÃ´ táº£ chi tiáº¿t**: Khi danh sÃ¡ch thuá»‘c trá»‘ng, API tráº£ vá» tráº¡ng thÃ¡i 409 (Conflict) thay vÃ¬ 200 (OK) vá»›i danh sÃ¡ch rá»—ng. Äiá»u nÃ y gÃ¢y nháº§m láº«n cho frontend vÃ¬ 409 thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng cho cÃ¡c trÆ°á»ng há»£p xung Ä‘á»™t dá»¯ liá»‡u.

**Má»©c Ä‘á»™ nghiÃªm trá»ng**: Tháº¥p

**Loáº¡i lá»—i**: Chá»©c nÄƒng

**Giai Ä‘oáº¡n phÃ¡t hiá»‡n**: Giai Ä‘oáº¡n 2 (Kiá»ƒm thá»­ Ä‘Æ¡n vá»‹)

**TÃ¡c Ä‘á»™ng**: GÃ¢y nháº§m láº«n cho frontend khi xá»­ lÃ½ pháº£n há»“i tá»« API, cÃ³ thá»ƒ dáº«n Ä‘áº¿n hiá»ƒn thá»‹ thÃ´ng bÃ¡o lá»—i khÃ´ng chÃ­nh xÃ¡c cho ngÆ°á»i dÃ¹ng.

**NguyÃªn nhÃ¢n**: Trong ThuocService, phÆ°Æ¡ng thá»©c getAll() kiá»ƒm tra náº¿u danh sÃ¡ch thuá»‘c trá»‘ng thÃ¬ tráº£ vá» ResponseDTO vá»›i status 409 thay vÃ¬ 200.

**Giáº£i phÃ¡p**: Sá»­a láº¡i phÆ°Æ¡ng thá»©c getAll() trong ThuocService Ä‘á»ƒ tráº£ vá» ResponseDTO vá»›i status 200 vÃ  danh sÃ¡ch rá»—ng khi khÃ´ng cÃ³ thuá»‘c nÃ o.

**Tráº¡ng thÃ¡i**: ÄÃ£ sá»­a

### BUG_002: Lá»—i StackOverflowError do quan há»‡ hai chiá»u

**MÃ´ táº£ chi tiáº¿t**: Khi serialize Ä‘á»‘i tÆ°á»£ng Thuoc Ä‘á»ƒ tráº£ vá» cho frontend, xáº£y ra lá»—i StackOverflowError do quan há»‡ hai chiá»u giá»¯a DanhMucThuoc vÃ  LoaiThuoc. Khi Jackson serialize DanhMucThuoc, nÃ³ sáº½ serialize cÃ¡c LoaiThuoc liÃªn quan, vÃ  má»—i LoaiThuoc láº¡i serialize DanhMucThuoc cá»§a nÃ³, táº¡o thÃ nh vÃ²ng láº·p vÃ´ háº¡n.

**Má»©c Ä‘á»™ nghiÃªm trá»ng**: Cao

**Loáº¡i lá»—i**: Chá»©c nÄƒng

**Giai Ä‘oáº¡n phÃ¡t hiá»‡n**: Giai Ä‘oáº¡n 3 (Kiá»ƒm thá»­ tÃ­ch há»£p)

**TÃ¡c Ä‘á»™ng**: GÃ¢y crash á»©ng dá»¥ng khi serialize Ä‘á»‘i tÆ°á»£ng, lÃ m API khÃ´ng thá»ƒ tráº£ vá» dá»¯ liá»‡u cho frontend.

**NguyÃªn nhÃ¢n**: Quan há»‡ hai chiá»u giá»¯a DanhMucThuoc vÃ  LoaiThuoc khÃ´ng Ä‘Æ°á»£c xá»­ lÃ½ Ä‘Ãºng cÃ¡ch khi serialize.

**Giáº£i phÃ¡p**: ThÃªm annotation @JsonIgnore cho thuá»™c tÃ­nh danhMucThuoc trong lá»›p LoaiThuoc Ä‘á»ƒ ngÄƒn Jackson serialize thuá»™c tÃ­nh nÃ y, phÃ¡ vá»¡ vÃ²ng láº·p vÃ´ háº¡n.

**Tráº¡ng thÃ¡i**: ÄÃ£ sá»­a

### BUG_003: Lá»—i thÃ´ng bÃ¡o khÃ´ng khá»›p

**MÃ´ táº£ chi tiáº¿t**: ThÃ´ng bÃ¡o lá»—i khi khÃ´ng tÃ¬m tháº¥y loáº¡i thuá»‘c khÃ´ng nháº¥t quÃ¡n giá»¯a backend vÃ  frontend. Backend tráº£ vá» "Loáº¡i thuá»‘c khÃ´ng tá»“n táº¡i" nhÆ°ng frontend hiá»ƒn thá»‹ "KhÃ´ng tÃ¬m tháº¥y loáº¡i thuá»‘c".

**Má»©c Ä‘á»™ nghiÃªm trá»ng**: Tháº¥p

**Loáº¡i lá»—i**: Giao diá»‡n

**Giai Ä‘oáº¡n phÃ¡t hiá»‡n**: Giai Ä‘oáº¡n 4 (Kiá»ƒm thá»­ chá»©c nÄƒng)

**TÃ¡c Ä‘á»™ng**: GÃ¢y nháº§m láº«n cho ngÆ°á»i dÃ¹ng khi xem thÃ´ng bÃ¡o lá»—i.

**NguyÃªn nhÃ¢n**: KhÃ´ng cÃ³ sá»± thá»‘ng nháº¥t vá» ná»™i dung thÃ´ng bÃ¡o lá»—i giá»¯a backend vÃ  frontend.

**Giáº£i phÃ¡p**: Thá»‘ng nháº¥t ná»™i dung thÃ´ng bÃ¡o lá»—i giá»¯a backend vÃ  frontend, sá»­ dá»¥ng "KhÃ´ng tÃ¬m tháº¥y loáº¡i thuá»‘c" cho cáº£ hai.

**Tráº¡ng thÃ¡i**: ÄÃ£ sá»­a

### BUG_004: Lá»—i phÆ°Æ¡ng thá»©c HTTP khÃ´ng Ä‘Ãºng

**MÃ´ táº£ chi tiáº¿t**: API cáº­p nháº­t thuá»‘c yÃªu cáº§u sá»­ dá»¥ng phÆ°Æ¡ng thá»©c PUT cho multipart/form-data, nhÆ°ng nhiá»u trÃ¬nh duyá»‡t khÃ´ng há»— trá»£ gá»­i dá»¯ liá»‡u multipart/form-data vá»›i phÆ°Æ¡ng thá»©c PUT.

**Má»©c Ä‘á»™ nghiÃªm trá»ng**: Trung bÃ¬nh

**Loáº¡i lá»—i**: Chá»©c nÄƒng

**Giai Ä‘oáº¡n phÃ¡t hiá»‡n**: Giai Ä‘oáº¡n 3 (Kiá»ƒm thá»­ tÃ­ch há»£p)

**TÃ¡c Ä‘á»™ng**: KhÃ´ng thá»ƒ cáº­p nháº­t thuá»‘c cÃ³ hÃ¬nh áº£nh trÃªn má»™t sá»‘ trÃ¬nh duyá»‡t, gÃ¢y lá»—i 405 Method Not Allowed.

**NguyÃªn nhÃ¢n**: Sá»­ dá»¥ng phÆ°Æ¡ng thá»©c HTTP khÃ´ng phÃ¹ há»£p cho multipart/form-data.

**Giáº£i phÃ¡p**: Thay Ä‘á»•i API cáº­p nháº­t thuá»‘c Ä‘á»ƒ sá»­ dá»¥ng phÆ°Æ¡ng thá»©c POST thay vÃ¬ PUT, vÃ  thÃªm tham sá»‘ _method=PUT Ä‘á»ƒ backend hiá»ƒu Ä‘Ã¢y lÃ  yÃªu cáº§u cáº­p nháº­t.

**Tráº¡ng thÃ¡i**: ÄÃ£ sá»­a

## ğŸ“ PHÃ‚N TÃCH XU HÆ¯á»šNG Lá»–I

### Xu hÆ°á»›ng theo giai Ä‘oáº¡n phÃ¡t hiá»‡n

Pháº§n lá»›n lá»—i (75%) Ä‘Æ°á»£c phÃ¡t hiá»‡n trong giai Ä‘oáº¡n kiá»ƒm thá»­ Ä‘Æ¡n vá»‹ vÃ  tÃ­ch há»£p, Ä‘iá»u nÃ y cho tháº¥y táº§m quan trá»ng cá»§a viá»‡c kiá»ƒm thá»­ sá»›m trong quy trÃ¬nh phÃ¡t triá»ƒn. KhÃ´ng cÃ³ lá»—i nÃ o Ä‘Æ°á»£c phÃ¡t hiá»‡n trong giai Ä‘oáº¡n kiá»ƒm thá»­ giao diá»‡n vÃ  há»‡ thá»‘ng, Ä‘iá»u nÃ y cho tháº¥y cÃ¡c lá»—i Ä‘Ã£ Ä‘Æ°á»£c phÃ¡t hiá»‡n vÃ  sá»­a chá»¯a ká»‹p thá»i trong cÃ¡c giai Ä‘oáº¡n trÆ°á»›c.

### Xu hÆ°á»›ng theo loáº¡i lá»—i

Pháº§n lá»›n lá»—i (75%) lÃ  lá»—i chá»©c nÄƒng, Ä‘iá»u nÃ y cho tháº¥y cáº§n táº­p trung hÆ¡n vÃ o viá»‡c kiá»ƒm thá»­ chá»©c nÄƒng trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn. Chá»‰ cÃ³ 25% lÃ  lá»—i giao diá»‡n, vÃ  khÃ´ng cÃ³ lá»—i hiá»‡u nÄƒng, báº£o máº­t hay tÆ°Æ¡ng thÃ­ch nÃ o Ä‘Æ°á»£c phÃ¡t hiá»‡n.

### Xu hÆ°á»›ng theo má»©c Ä‘á»™ nghiÃªm trá»ng

Pháº§n lá»›n lá»—i (50%) cÃ³ má»©c Ä‘á»™ nghiÃªm trá»ng tháº¥p, 25% cÃ³ má»©c Ä‘á»™ nghiÃªm trá»ng trung bÃ¬nh, vÃ  25% cÃ³ má»©c Ä‘á»™ nghiÃªm trá»ng cao. KhÃ´ng cÃ³ lá»—i nÃ o cÃ³ má»©c Ä‘á»™ nghiÃªm trá»ng nghiÃªm trá»ng (critical), Ä‘iá»u nÃ y cho tháº¥y há»‡ thá»‘ng cÃ³ cháº¥t lÆ°á»£ng tá»‘t.

## ğŸ“ Káº¾T LUáº¬N

Dá»±a trÃªn phÃ¢n tÃ­ch lá»—i, chá»©c nÄƒng Quáº£n lÃ½ thuá»‘c cÃ³ cháº¥t lÆ°á»£ng tá»‘t vá»›i sá»‘ lÆ°á»£ng lá»—i Ã­t vÃ  khÃ´ng cÃ³ lá»—i nghiÃªm trá»ng nÃ o. Táº¥t cáº£ cÃ¡c lá»—i Ä‘Ã£ Ä‘Æ°á»£c phÃ¡t hiá»‡n vÃ  sá»­a chá»¯a ká»‹p thá»i trong quÃ¡ trÃ¬nh kiá»ƒm thá»­.

Pháº§n lá»›n lá»—i Ä‘Æ°á»£c phÃ¡t hiá»‡n trong giai Ä‘oáº¡n kiá»ƒm thá»­ Ä‘Æ¡n vá»‹ vÃ  tÃ­ch há»£p, Ä‘iá»u nÃ y cho tháº¥y táº§m quan trá»ng cá»§a viá»‡c kiá»ƒm thá»­ sá»›m trong quy trÃ¬nh phÃ¡t triá»ƒn. Pháº§n lá»›n lá»—i lÃ  lá»—i chá»©c nÄƒng, Ä‘iá»u nÃ y cho tháº¥y cáº§n táº­p trung hÆ¡n vÃ o viá»‡c kiá»ƒm thá»­ chá»©c nÄƒng trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn.

## ğŸ“ TÃ€I LIá»†U LIÃŠN QUAN

- [BÃ¡o cÃ¡o tiáº¿n Ä‘á»™ giai Ä‘oáº¡n 2](../../../giai-doan-2-unit-test/bao-cao/Bao_Cao_Tien_Do_Giai_Doan_2.md)
- [BÃ¡o cÃ¡o tiáº¿n Ä‘á»™ giai Ä‘oáº¡n 3](../../../giai-doan-3-integration-test/bao-cao/Bao_Cao_Tien_Do_Giai_Doan_3.md)
- [BÃ¡o cÃ¡o tiáº¿n Ä‘á»™ giai Ä‘oáº¡n 4](../../../giai-doan-4-functional-test/bao-cao/Bao_Cao_Tien_Do_Giai_Doan_4.md)
- [BÃ¡o cÃ¡o tiáº¿n Ä‘á»™ giai Ä‘oáº¡n 5](../../../giai-doan-5-ui-test/bao-cao/Bao_Cao_Tien_Do_Giai_Doan_5.md)
- [BÃ¡o cÃ¡o tiáº¿n Ä‘á»™ giai Ä‘oáº¡n 6](../../../giai-doan-6-system-test/bao-cao/Bao_Cao_Tien_Do_Giai_Doan_6.md)
