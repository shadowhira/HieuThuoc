# 5.8.4. Giao tiếp truyền thông (SREQ026, SREQ027, SREQ028)

Hệ thống quản lý hiệu thuốc đáp ứng các yêu cầu giao tiếp truyền thông sau:

## 1. Yêu cầu về môi trường triển khai và truy cập (SREQ026)

- Hệ thống vận hành trên máy chủ ứng dụng và được truy cập trực tiếp từ internet.
- Máy chủ web phải được cấu hình để hỗ trợ tối thiểu 1000 kết nối đồng thời.
- Hệ thống hỗ trợ truy cập từ các thiết bị khác nhau (máy tính, điện thoại, máy tính bảng) thông qua trình duyệt web.
- Hệ thống yêu cầu kết nối internet ổn định với băng thông tối thiểu 10 Mbps cho máy chủ.
- Độ trễ mạng tối đa cho phép là 100ms để đảm bảo trải nghiệm người dùng tốt.
- Hệ thống phải hoạt động 24/7 với thời gian ngừng hoạt động không quá 0.5% (tương đương khoảng 3.6 giờ/tháng).

## 2. Yêu cầu về giao thức mạng và cổng kết nối (SREQ027)

- Hệ thống sử dụng giao thức HTTP/HTTPS cho giao tiếp giữa client và server.
- Tất cả giao tiếp phải được mã hóa bằng TLS 1.2 trở lên để đảm bảo an toàn dữ liệu.
- Cổng mạng cần được mở:
  - Cổng 80 (HTTP) - chỉ để chuyển hướng sang HTTPS
  - Cổng 443 (HTTPS) - cho giao tiếp chính giữa client và server
  - Cổng 8888 (HTTP) - cho giao tiếp nội bộ giữa các thành phần hệ thống
  - Cổng 587 (SMTP) - cho giao tiếp với dịch vụ email
- Hệ thống phải hỗ trợ IPv4 và sẵn sàng cho IPv6 trong tương lai.
- Hệ thống phải có khả năng xử lý tối thiểu 50 request/giây.

## 3. Yêu cầu về kết nối và bảo mật mạng (SREQ028)

- Hệ thống yêu cầu chứng chỉ SSL/TLS hợp lệ từ nhà cung cấp uy tín cho tên miền.
- Hệ thống phải được bảo vệ bởi tường lửa (firewall) để kiểm soát truy cập.
- Hệ thống phải có cơ chế phòng chống tấn công DDoS.
- Hệ thống phải có cơ chế giới hạn tần suất truy cập (rate limiting) để ngăn chặn tấn công brute force.
- Hệ thống phải có khả năng ghi nhật ký (logging) tất cả các hoạt động truy cập mạng.
- Hệ thống phải có khả năng phát hiện và ngăn chặn các cuộc tấn công mạng phổ biến (SQL injection, XSS, CSRF).
- Kết nối VPN phải được hỗ trợ cho việc quản trị hệ thống từ xa.

## 4. Yêu cầu về khả năng mở rộng mạng (SREQ029)

- Hệ thống phải có khả năng mở rộng theo chiều ngang (horizontal scaling) bằng cách thêm nhiều máy chủ web khi cần thiết.
- Hệ thống phải hỗ trợ cân bằng tải (load balancing) giữa nhiều máy chủ.
- Hệ thống phải có khả năng hoạt động trong môi trường đám mây (cloud) hoặc trung tâm dữ liệu vật lý (on-premise).
- Hệ thống phải có khả năng phục hồi sau sự cố mạng trong vòng 15 phút.
- Hệ thống phải có cơ chế sao lưu và phục hồi dữ liệu tự động.

## 5. Yêu cầu về kết nối với mạng nội bộ (SREQ030)

- Hệ thống phải có khả năng hoạt động trong mạng LAN của hiệu thuốc.
- Hệ thống phải hỗ trợ kết nối với máy chủ cơ sở dữ liệu thông qua mạng nội bộ.
- Hệ thống phải hỗ trợ kết nối với máy in trong mạng nội bộ để in hóa đơn, phiếu nhập kho.
- Băng thông mạng nội bộ tối thiểu 100 Mbps để đảm bảo hiệu suất cao.
- Độ trễ mạng nội bộ không được vượt quá 10ms.

## 6. Yêu cầu về khả năng truy cập từ xa (SREQ031)

- Hệ thống phải hỗ trợ truy cập từ xa an toàn cho nhân viên làm việc ngoài hiệu thuốc.
- Hệ thống phải hỗ trợ xác thực hai yếu tố (2FA) cho truy cập từ xa.
- Hệ thống phải có khả năng giới hạn truy cập từ xa theo địa chỉ IP hoặc vùng địa lý.
- Hệ thống phải có khả năng ghi nhật ký và giám sát tất cả các hoạt động truy cập từ xa.
- Phiên làm việc từ xa phải tự động đóng sau 30 phút không hoạt động.
